{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Mat\\\\Desktop\\\\BarangayBMIS\\\\frontend\\\\src\\\\DashboardScreens\\\\DeceasedResidents.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport DeceasedTable from '../components/DeceasedTable';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listResidents, deleteResident } from '../actions/residentActions';\n\nconst DeceasedResidents = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const residentList = useSelector(state => state.residentList);\n  const {\n    loading,\n    error,\n    residents\n  } = residentList;\n  const residentDelete = useSelector(state => state.residentDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = residentDelete;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listResidents());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, userInfo, successDelete]);\n\n  const deleteHandler = id => {\n    if (window.confirm('Are you sure you want to delete?')) {\n      dispatch(deleteResident(id));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"content-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \" Deceased Residents \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"breadcrumb float-sm-right\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"breadcrumb-item active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), loadingDelete && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }, this), errorDelete && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: errorDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(DeceasedTable, {\n                res: residents.map((resident, i) => ({ ...resident,\n                  view: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/profile/${resident._id}`,\n                    className: \"btn btn-success btn-sm\",\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 27\n                  }, this)],\n                  edit: [/*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"danger\",\n                      className: \"btn-sm\",\n                      onClick: () => deleteHandler(resident._id),\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-trash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 92,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false)]\n                })).filter(res => {\n                  return res.isDead === true;\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DeceasedResidents, \"ueEKAWiKlwsz8Ic4KXPG/QOmmXk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = DeceasedResidents;\nexport default DeceasedResidents;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeceasedResidents\");","map":{"version":3,"sources":["C:/Users/Mat/Desktop/BarangayBMIS/frontend/src/DashboardScreens/DeceasedResidents.js"],"names":["React","useEffect","useDispatch","useSelector","Link","Button","DeceasedTable","Message","Loader","listResidents","deleteResident","DeceasedResidents","history","match","dispatch","residentList","state","loading","error","residents","residentDelete","loadingDelete","errorDelete","success","successDelete","userLogin","userInfo","isAdmin","push","deleteHandler","id","window","confirm","map","resident","i","view","_id","edit","filter","res","isDead"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Button } from 'react-bootstrap'\nimport DeceasedTable from '../components/DeceasedTable'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport { listResidents, deleteResident } from '../actions/residentActions'\n\nconst DeceasedResidents = ({ history, match }) => {\n  const dispatch = useDispatch()\n\n  const residentList = useSelector((state) => state.residentList)\n  const { loading, error, residents } = residentList\n\n  const residentDelete = useSelector((state) => state.residentDelete)\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = residentDelete\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listResidents())\n    } else {\n      history.push('/login')\n    }\n  }, [dispatch, history, userInfo, successDelete])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure you want to delete?')) {\n      dispatch(deleteResident(id))\n    }\n  }\n\n  return (\n    <div className=\"content-wrapper\">\n      {/* Content Header (Page header) */}\n      <section className=\"content-header\">\n        <div className=\"container-fluid\">\n          <div className=\"row mb-2\">\n            <div className=\"col-sm-6\">\n              <h1> Deceased Residents </h1>\n            </div>\n            <div className=\"col-sm-6\">\n              <ol className=\"breadcrumb float-sm-right\">\n                <li className=\"breadcrumb-item active\"></li>\n              </ol>\n            </div>\n          </div>\n        </div>\n        {/* /.container-fluid */}\n      </section>\n      {/* Main content */}\n      {loadingDelete && <Loader />}\n      {errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <section className=\"content\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              {/* /.card */}\n              <div className=\"card \">\n                {/* /.card-header */}\n                <div className=\"card-body\">\n                  <DeceasedTable\n                    res={residents\n                      .map((resident, i) => ({\n                        ...resident,\n                        view: [\n                          <Link\n                            to={`/profile/${resident._id}`}\n                            className=\"btn btn-success btn-sm\"\n                          >\n                            View\n                          </Link>,\n                        ],\n                        edit: [\n                          <>\n                            <Button\n                              variant=\"danger\"\n                              className=\"btn-sm\"\n                              onClick={() => deleteHandler(resident._id)}\n                            >\n                              <i className=\"fas fa-trash\"></i>\n                            </Button>\n                          </>,\n                        ],\n                      }))\n                      .filter((res) => {\n                        return res.isDead === true\n                      })}\n                  />\n                </div>\n                {/* /.card-body */}\n              </div>\n              {/* /.card */}\n            </div>\n            {/* /.col */}\n          </div>\n\n          {/* /.row */}\n        </section>\n      )}\n      {/* /.content */}\n    </div>\n  )\n}\n\nexport default DeceasedResidents\n"]},"metadata":{},"sourceType":"module"}